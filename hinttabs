// create a grid of hints to take you to a different tab 

// WARNING - these leak tab titles & urls to the page (hence iframe version above)

// creates a grid once (on first use per tridactyl load), then shows/hides it when called again on that page
// nice thing about this one is the cell backgrounds don't flicker when moving to prev/next list of tabs as they're not destroyed
// also the previous tabs button works properly

command hinttaball js if(void 0===tri.hinttabspopup){tri.hinttabspopup={};let t=tri.hinttabspopup;t.maxCols=3,t.maxRows=10,t.widthPercentage=75,t.topOffset=7,t.minCellWidth=50,t.bTabIdInTitle=!1,t.gridGap=5,t.bFavicons=!0,t.iconSize=1,t.stylerules=["#tri-tab-grid-parent { background: rgba(30,30,30,0.25) !important; outline: solid rgba(30,30,30,0.25)  5px; filter: drop-shadow(0 0 10rem #3a0080); }","#tri-tab-grid { height: fit-content; font-family: var(--tridactyl-cmdl-font-family); color: var(--tridactyl-cmdl-fg); font-size: var(--tridactyl-cmdl-font-size); filter: drop-shadow(0 0 0.2rem grey); }","#tri-tab-grid>div { padding: 0.5em; overflow: clip; text-overflow: ellipsis; white-space: nowrap; text-align: left; background-color: #101216 !important; padding-left: 1.5em; padding-right: 1.5em; } ","#tri-tab-grid>div>p { display: inline; } ","#tri-tab-grid>div>p.tri-tab-title { color: #e4e4e4 !important; }","#tri-tab-grid>div>p.tri-tab-url { color: slateblue !important; } ","#tri-tab-grid>div>p>img { padding: 0 1em 0 0; display: inline-block; vertical-align: middle; height:"+t.iconSize+"em; }","#tri-tab-grid>div.TridactylHintActive { background-color: #202020 !important; } ","#tri-tab-grid>div.TridactylHintActive>p {  } ","#tri-tab-grid>div.TridactylHintActive>p.tri-tab-title { color: white !important; }","#tri-tab-grid>div.TridactylHintActive>p.tri-tab-url { color: yellow !important; } ","#tri-tab-grid>div>p>img {  }",".tri-tab-grid-more { margin-left:"+t.gridGap+"px; margin-right:"+t.gridGap+"px; height:100%; background-color: #101216 !important; display: flex; align-items: center; justify-content: center; color: #e4e4e4 !important; } "],t.goToTab=async function(t){let e=await tri.browserBg.tabs.update(t,{active:!0});return await tri.browserBg.windows.update(e.windowId,{focused:!0}),e},t.fillCells=function(e,i,r){r=Math.min(r,e.length);for(let a=0;a<r;++a)t.fillCell(e[a],i.children[a]),i.children[a].style.display="";for(let l=r;l<i.childElementCount;++l)i.children[l].style.display="none";return r},t.fillCell=function(e,i){let r=i.querySelector(".tri-tab-title"),a=i.querySelector(".tri-tab-url");if(r.innerHTML="",a.innerHTML="",t.bFavicons){if(e.incognito){let l=document.createElement("img");l.src="chrome://global/skin/icons/indicator-private-browsing.svg",r.appendChild(l)}else r.style["padding-left"]=2*t.iconSize+"em";if(void 0!==e.favIconUrl){let n=document.createElement("img");n.src=e.favIconUrl,a.appendChild(n)}else a.style["padding-left"]=2*t.iconSize+"em"}return i.tabid=e.id,r.insertAdjacentText("beforeEnd",e.title),a.insertAdjacentText("beforeEnd",e.url),i},t.maxCellsToFitInScreen=function(e,i){let r=e.children[0].getBoundingClientRect(),a=r.height+t.gridGap;return i*Math.max(1,Math.floor((window.innerHeight-r.top)/a))},t.addCell=function(t){let e=document.createElement("div");e.className="tri-tab-hint",t.appendChild(e);let i=document.createElement("p"),r=document.createElement("p");return i.className="tri-tab-title",r.className="tri-tab-url",i.innerText="|",r.innerText="|",e.appendChild(i),e.appendChild(document.createElement("br")),e.appendChild(r),e.getBoundingClientRect(),e},t.addCells=function(e,i){0===e.childElementCount&&t.addcell(e);let r=t.maxCellsToFitInScreen(e,i);for(let a=e.childElementCount;a<r;++a)t.addCell(e);return r},t.makeTabGrid=function(e){return void 0===t.tabgridelem?(t.tabgridelem=document.createElement("div"),t.tabgridelem.setAttribute("style","grid-template-columns: repeat("+e+", minmax(0, 1fr));"),t.tabgridelem.style.display="grid",t.tabgridelem.style["grid-gap"]=t.gridGap+"px",t.tabgridelem.id="tri-tab-grid",t.tabgridelem.numcols=e,t.addCell(t.tabgridelem),t.tabgridparent.appendChild(t.tabgridelem)):(t.tabgridelem.style["grid-template-columns"]="repeat("+e+", minmax(0px, 1fr))",t.tabgridelem.numcols=e),t.tabgridelem},t.addPrevTabs=function(e){if(void 0===t.prevtabs){let i=document.createElement("div"),r=document.createElement("div");r.id="tri-tabs-prev",r.className="tri-tab-grid-more",r.innerText="<--",i.appendChild(r),e.appendChild(i),t.prevtabs=r}},t.addNextTabs=function(e){if(void 0===t.nexttabs){let i=document.createElement("div"),r=document.createElement("div");r.id="tri-tabs-next",r.className="tri-tab-grid-more",r.innerText="->",i.appendChild(r),e.appendChild(i),t.nexttabs=r}},t.createOrShowGrid=async function(e,i=0){let r=await tri.browserBg.tabs.query(e?{}:{currentWindow:!0}),a=r.slice(i,i+t.maxRows*t.maxCols);void 0===t.stylesheet?t.stylesheet=t.addStylesheet(t.stylerules):t.stylesheet.disabled=!1;let l=t.createLayoutGrid();t.addPrevTabs(l);let n=t.maxCols;window.innerWidth*t.widthPercentage*.01/n<t.minCellWidth&&(n=Math.max(1,Math.floor(window.innerWidth/t.minCellWidth)));let d=t.makeTabGrid(n),o=t.addCells(d,n),s=t.fillCells(a,d,o);return t.addNextTabs(l),i+s<r.length?(t.nexttabs.style.display="",t.nexttabs.onclick=()=>t.hint(e,i+s)):t.nexttabs.style.display="none",i>0?(t.prevtabs.style.display="",t.prevtabs.onclick=()=>t.hint(e,Math.max(0,i-o))):t.prevtabs.style.display="none",l},t.createLayoutGrid=function(){return void 0===t.tabgridparent&&(t.tabgridparent=document.createElement("div"),t.tabgridparent.id="tri-tab-grid-parent",t.tabgridparent.style.position="fixed",t.tabgridparent.style.top=t.topOffset+"rem",t.tabgridparent.style.width="100%",t.tabgridparent.style.height="fit-content",t.tabgridparent.style["z-index"]=2147483645,t.tabgridparent.style["grid-template-columns"]=(100-t.widthPercentage)/2+"fr "+t.widthPercentage+"fr "+(100-t.widthPercentage)/2+"fr",document.body.parentElement.appendChild(t.tabgridparent)),t.tabgridparent.style.display="grid",t.tabgridparent},t.addStylesheet=function(t){let e=document.createElement("style");return document.head.appendChild(e),t.forEach(t=>e.sheet.insertRule(t)),e},t.hint=async function(e=!1,i=0){let r=await t.createOrShowGrid(e,i);return tri.excmds.hint("-c","#tri-tab-grid>div,.tri-tab-grid-more").then(function(e){return void 0!==e.tabid?(t.goToTab(e.tabid),r.style.display="none"):"tri-tab-grid-more"===e.className||(r.style.display="none"),e})}}tri.hinttabspopup.hint(true);

command hinttabs js if(void 0===tri.hinttabspopup){tri.hinttabspopup={};let t=tri.hinttabspopup;t.maxCols=3,t.maxRows=10,t.widthPercentage=75,t.topOffset=7,t.minCellWidth=50,t.bTabIdInTitle=!1,t.gridGap=5,t.bFavicons=!0,t.iconSize=1,t.stylerules=["#tri-tab-grid-parent { background: rgba(30,30,30,0.25) !important; outline: solid rgba(30,30,30,0.25)  5px; filter: drop-shadow(0 0 10rem #3a0080); }","#tri-tab-grid { height: fit-content; font-family: var(--tridactyl-cmdl-font-family); color: var(--tridactyl-cmdl-fg); font-size: var(--tridactyl-cmdl-font-size); filter: drop-shadow(0 0 0.2rem grey); }","#tri-tab-grid>div { padding: 0.5em; overflow: clip; text-overflow: ellipsis; white-space: nowrap; text-align: left; background-color: #101216 !important; padding-left: 1.5em; padding-right: 1.5em; } ","#tri-tab-grid>div>p { display: inline; } ","#tri-tab-grid>div>p.tri-tab-title { color: #e4e4e4 !important; }","#tri-tab-grid>div>p.tri-tab-url { color: slateblue !important; } ","#tri-tab-grid>div>p>img { padding: 0 1em 0 0; display: inline-block; vertical-align: middle; height:"+t.iconSize+"em; }","#tri-tab-grid>div.TridactylHintActive { background-color: #202020 !important; } ","#tri-tab-grid>div.TridactylHintActive>p {  } ","#tri-tab-grid>div.TridactylHintActive>p.tri-tab-title { color: white !important; }","#tri-tab-grid>div.TridactylHintActive>p.tri-tab-url { color: yellow !important; } ","#tri-tab-grid>div>p>img {  }",".tri-tab-grid-more { margin-left:"+t.gridGap+"px; margin-right:"+t.gridGap+"px; height:100%; background-color: #101216 !important; display: flex; align-items: center; justify-content: center; color: #e4e4e4 !important; } "],t.goToTab=async function(t){let e=await tri.browserBg.tabs.update(t,{active:!0});return await tri.browserBg.windows.update(e.windowId,{focused:!0}),e},t.fillCells=function(e,i,r){r=Math.min(r,e.length);for(let a=0;a<r;++a)t.fillCell(e[a],i.children[a]),i.children[a].style.display="";for(let l=r;l<i.childElementCount;++l)i.children[l].style.display="none";return r},t.fillCell=function(e,i){let r=i.querySelector(".tri-tab-title"),a=i.querySelector(".tri-tab-url");if(r.innerHTML="",a.innerHTML="",t.bFavicons){if(e.incognito){let l=document.createElement("img");l.src="chrome://global/skin/icons/indicator-private-browsing.svg",r.appendChild(l)}else r.style["padding-left"]=2*t.iconSize+"em";if(void 0!==e.favIconUrl){let n=document.createElement("img");n.src=e.favIconUrl,a.appendChild(n)}else a.style["padding-left"]=2*t.iconSize+"em"}return i.tabid=e.id,r.insertAdjacentText("beforeEnd",e.title),a.insertAdjacentText("beforeEnd",e.url),i},t.maxCellsToFitInScreen=function(e,i){let r=e.children[0].getBoundingClientRect(),a=r.height+t.gridGap;return i*Math.max(1,Math.floor((window.innerHeight-r.top)/a))},t.addCell=function(t){let e=document.createElement("div");e.className="tri-tab-hint",t.appendChild(e);let i=document.createElement("p"),r=document.createElement("p");return i.className="tri-tab-title",r.className="tri-tab-url",i.innerText="|",r.innerText="|",e.appendChild(i),e.appendChild(document.createElement("br")),e.appendChild(r),e.getBoundingClientRect(),e},t.addCells=function(e,i){0===e.childElementCount&&t.addcell(e);let r=t.maxCellsToFitInScreen(e,i);for(let a=e.childElementCount;a<r;++a)t.addCell(e);return r},t.makeTabGrid=function(e){return void 0===t.tabgridelem?(t.tabgridelem=document.createElement("div"),t.tabgridelem.setAttribute("style","grid-template-columns: repeat("+e+", minmax(0, 1fr));"),t.tabgridelem.style.display="grid",t.tabgridelem.style["grid-gap"]=t.gridGap+"px",t.tabgridelem.id="tri-tab-grid",t.tabgridelem.numcols=e,t.addCell(t.tabgridelem),t.tabgridparent.appendChild(t.tabgridelem)):(t.tabgridelem.style["grid-template-columns"]="repeat("+e+", minmax(0px, 1fr))",t.tabgridelem.numcols=e),t.tabgridelem},t.addPrevTabs=function(e){if(void 0===t.prevtabs){let i=document.createElement("div"),r=document.createElement("div");r.id="tri-tabs-prev",r.className="tri-tab-grid-more",r.innerText="<--",i.appendChild(r),e.appendChild(i),t.prevtabs=r}},t.addNextTabs=function(e){if(void 0===t.nexttabs){let i=document.createElement("div"),r=document.createElement("div");r.id="tri-tabs-next",r.className="tri-tab-grid-more",r.innerText="->",i.appendChild(r),e.appendChild(i),t.nexttabs=r}},t.createOrShowGrid=async function(e,i=0){let r=await tri.browserBg.tabs.query(e?{}:{currentWindow:!0}),a=r.slice(i,i+t.maxRows*t.maxCols);void 0===t.stylesheet?t.stylesheet=t.addStylesheet(t.stylerules):t.stylesheet.disabled=!1;let l=t.createLayoutGrid();t.addPrevTabs(l);let n=t.maxCols;window.innerWidth*t.widthPercentage*.01/n<t.minCellWidth&&(n=Math.max(1,Math.floor(window.innerWidth/t.minCellWidth)));let d=t.makeTabGrid(n),o=t.addCells(d,n),s=t.fillCells(a,d,o);return t.addNextTabs(l),i+s<r.length?(t.nexttabs.style.display="",t.nexttabs.onclick=()=>t.hint(e,i+s)):t.nexttabs.style.display="none",i>0?(t.prevtabs.style.display="",t.prevtabs.onclick=()=>t.hint(e,Math.max(0,i-o))):t.prevtabs.style.display="none",l},t.createLayoutGrid=function(){return void 0===t.tabgridparent&&(t.tabgridparent=document.createElement("div"),t.tabgridparent.id="tri-tab-grid-parent",t.tabgridparent.style.position="fixed",t.tabgridparent.style.top=t.topOffset+"rem",t.tabgridparent.style.width="100%",t.tabgridparent.style.height="fit-content",t.tabgridparent.style["z-index"]=2147483645,t.tabgridparent.style["grid-template-columns"]=(100-t.widthPercentage)/2+"fr "+t.widthPercentage+"fr "+(100-t.widthPercentage)/2+"fr",document.body.parentElement.appendChild(t.tabgridparent)),t.tabgridparent.style.display="grid",t.tabgridparent},t.addStylesheet=function(t){let e=document.createElement("style");return document.head.appendChild(e),t.forEach(t=>e.sheet.insertRule(t)),e},t.hint=async function(e=!1,i=0){let r=await t.createOrShowGrid(e,i);return tri.excmds.hint("-c","#tri-tab-grid>div,.tri-tab-grid-more").then(function(e){return void 0!==e.tabid?(t.goToTab(e.tabid),r.style.display="none"):"tri-tab-grid-more"===e.className||(r.style.display="none"),e})}}tri.hinttabspopup.hint();



// this one (first version) creates and removes everything each time it is called which is simpler
// prev button doesn't work properly but can be fixed with the same logic the other version uses

command hinttabs js if(void 0===tri.hinttabspopup){tri.hinttabspopup={};let t=tri.hinttabspopup;t.maxColumns=3,t.maxCells=30,t.widthPercentage=75,t.topOffset=7,t.minCellWidth=50,t.bTabIdInTitle=!1,t.gridGap="5px",t.bFavicons=!0,t.iconSize=1,t.stylerules=[".tri-grid-tabs-container { height: fit-content; font-family: var(--tridactyl-cmdl-font-family); color: var(--tridactyl-cmdl-fg); font-size: var(--tridactyl-cmdl-font-size); filter: drop-shadow(0 0 10rem #3a0080); }",".tri-grid-tabs-container>div { padding: 0.5em; overflow: clip; text-overflow: ellipsis; white-space: nowrap; text-align: left; background-color: #101216 !important; padding-left: 1.5em; padding-right: 1.5em; } ",".tri-grid-tabs-container>div>p { display: inline; } ",".tri-grid-tabs-container>div>p.tri-tab-title { color: #e4e4e4 !important; }",".tri-grid-tabs-container>div>p.tri-tab-url { color: slateblue !important; } ",".tri-grid-tabs-container>div>p>img { padding: 0 1em 0 0; display: inline-block; vertical-align: middle; height:"+t.iconSize+"em; }",".tri-grid-tabs-container>div.TridactylHintActive { background-color: #202020 !important; } ",".tri-grid-tabs-container>div.TridactylHintActive>p {  } ",".tri-grid-tabs-container>div.TridactylHintActive>p.tri-tab-title { color: white !important; }",".tri-grid-tabs-container>div.TridactylHintActive>p.tri-tab-url { color: yellow !important; } ",".tri-grid-tabs-container>div>p>img {  }",".tri-tabs-more { margin-left:"+t.gridGap+"; margin-right:"+t.gridGap+"; height:100%; background-color: #101216 !important; display: flex; align-items: center; justify-content: center; color: #e4e4e4 !important; } "],t.gridFromArr=function(t,e,i){t.length;let n=document.createElement("div");return n.setAttribute("style","grid-template-columns: repeat("+e+", minmax(0, 1fr));"),n.style.display="grid",t.forEach(function(t){let e=document.createElement("div");i(t,e),n.appendChild(e)}),n},t.addStylesheet=function(t){let e=document.createElement("style");return document.head.appendChild(e),t.forEach(t=>e.sheet.insertRule(t)),e},t.makeTabGrid=async function(e=!1,i=0){let n=await tri.browserBg.tabs.query(e?{}:{currentWindow:!0}),r=n.slice(i,i+t.maxCells),a=document.createElement("div");a.style.display="grid",a.style.position="fixed",a.style.top=t.topOffset+"rem",a.style.width="100%",a.style.height="fit-content",a.style["z-index"]=2147483645,a.style["grid-template-columns"]=(100-t.widthPercentage)/2+"fr "+t.widthPercentage+"fr "+(100-t.widthPercentage)/2+"fr";let l=document.createElement("div"),d=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div");o.id="tri-tabs-prev",c.id="tri-tabs-prev",c.innerText="->",o.className="tri-tabs-more",c.className="tri-tabs-more";let s=Math.min(t.maxColumns,r.length);window.innerWidth*t.widthPercentage*.01/s<t.minCellWidth&&(s=Math.max(1,Math.floor(window.innerWidth/t.minCellWidth)));let p=0,m=-1,g=t.gridFromArr(r,s,function(i,n){let r=p;m!==i.windowId&&(m=i.windowId,r=++p);let a=document.createElement("p"),l=document.createElement("p");if(a.className="tri-tab-title",l.className="tri-tab-url",t.bFavicons){if(i.incognito){let d=document.createElement("img");d.src="chrome://global/skin/icons/indicator-private-browsing.svg",a.appendChild(d)}else a.style["padding-left"]=2*t.iconSize+"em";if(void 0!==i.favIconUrl){let o=document.createElement("img");o.src=i.favIconUrl,l.appendChild(o)}else l.style["padding-left"]=2*t.iconSize+"em"}let c=t.bTabIdInTitle?(e?p+"."+(i.index+1):i.index+1)+" ":"";a.insertAdjacentText("beforeEnd",c+i.title),l.insertAdjacentText("beforeEnd",i.url),n.appendChild(a),n.appendChild(document.createElement("br")),n.appendChild(l),n.onclick=()=>tri.excmds.tab((e?r+".":"")+(i.index+1))});g.style["grid-gap"]="5px",g.className="tri-grid-tabs-container",a.appendChild(l),a.appendChild(g),a.appendChild(d),document.body.parentElement.appendChild(a),void 0===t.stylesheet?t.stylesheet=t.addStylesheet(t.stylerules):t.stylesheet.disabled=!1;let h=tri.hinting_content.hintables(".tri-grid-tabs-container>div")[0].elements.length;return i+h<n.length&&(d.appendChild(c),c.onclick=()=>t.hint(e,i+h)),i>0&&(o.innerText="<-",l.appendChild(o),o.onclick=()=>t.hint(e,Math.max(0,i-h))),a},t.hint=async function(e=!1,i=0){let n=await t.makeTabGrid(e,i);return tri.excmds.hint("-c",".tri-grid-tabs-container>div,.tri-tabs-more").then(function(t){return n.remove(),t})}}tri.hinttabspopup.hint()

command hinttaball js if(void 0===tri.hinttabspopup){tri.hinttabspopup={};let t=tri.hinttabspopup;t.maxColumns=3,t.maxCells=30,t.widthPercentage=75,t.topOffset=7,t.minCellWidth=50,t.bTabIdInTitle=!1,t.gridGap="5px",t.bFavicons=!0,t.iconSize=1,t.stylerules=[".tri-grid-tabs-container { height: fit-content; font-family: var(--tridactyl-cmdl-font-family); color: var(--tridactyl-cmdl-fg); font-size: var(--tridactyl-cmdl-font-size); filter: drop-shadow(0 0 10rem #3a0080); }",".tri-grid-tabs-container>div { padding: 0.5em; overflow: clip; text-overflow: ellipsis; white-space: nowrap; text-align: left; background-color: #101216 !important; padding-left: 1.5em; padding-right: 1.5em; } ",".tri-grid-tabs-container>div>p { display: inline; } ",".tri-grid-tabs-container>div>p.tri-tab-title { color: #e4e4e4 !important; }",".tri-grid-tabs-container>div>p.tri-tab-url { color: slateblue !important; } ",".tri-grid-tabs-container>div>p>img { padding: 0 1em 0 0; display: inline-block; vertical-align: middle; height:"+t.iconSize+"em; }",".tri-grid-tabs-container>div.TridactylHintActive { background-color: #202020 !important; } ",".tri-grid-tabs-container>div.TridactylHintActive>p {  } ",".tri-grid-tabs-container>div.TridactylHintActive>p.tri-tab-title { color: white !important; }",".tri-grid-tabs-container>div.TridactylHintActive>p.tri-tab-url { color: yellow !important; } ",".tri-grid-tabs-container>div>p>img {  }",".tri-tabs-more { margin-left:"+t.gridGap+"; margin-right:"+t.gridGap+"; height:100%; background-color: #101216 !important; display: flex; align-items: center; justify-content: center; color: #e4e4e4 !important; } "],t.gridFromArr=function(t,e,i){t.length;let n=document.createElement("div");return n.setAttribute("style","grid-template-columns: repeat("+e+", minmax(0, 1fr));"),n.style.display="grid",t.forEach(function(t){let e=document.createElement("div");i(t,e),n.appendChild(e)}),n},t.addStylesheet=function(t){let e=document.createElement("style");return document.head.appendChild(e),t.forEach(t=>e.sheet.insertRule(t)),e},t.makeTabGrid=async function(e=!1,i=0){let n=await tri.browserBg.tabs.query(e?{}:{currentWindow:!0}),r=n.slice(i,i+t.maxCells),a=document.createElement("div");a.style.display="grid",a.style.position="fixed",a.style.top=t.topOffset+"rem",a.style.width="100%",a.style.height="fit-content",a.style["z-index"]=2147483645,a.style["grid-template-columns"]=(100-t.widthPercentage)/2+"fr "+t.widthPercentage+"fr "+(100-t.widthPercentage)/2+"fr";let l=document.createElement("div"),d=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div");o.id="tri-tabs-prev",c.id="tri-tabs-prev",c.innerText="->",o.className="tri-tabs-more",c.className="tri-tabs-more";let s=Math.min(t.maxColumns,r.length);window.innerWidth*t.widthPercentage*.01/s<t.minCellWidth&&(s=Math.max(1,Math.floor(window.innerWidth/t.minCellWidth)));let p=0,m=-1,g=t.gridFromArr(r,s,function(i,n){let r=p;m!==i.windowId&&(m=i.windowId,r=++p);let a=document.createElement("p"),l=document.createElement("p");if(a.className="tri-tab-title",l.className="tri-tab-url",t.bFavicons){if(i.incognito){let d=document.createElement("img");d.src="chrome://global/skin/icons/indicator-private-browsing.svg",a.appendChild(d)}else a.style["padding-left"]=2*t.iconSize+"em";if(void 0!==i.favIconUrl){let o=document.createElement("img");o.src=i.favIconUrl,l.appendChild(o)}else l.style["padding-left"]=2*t.iconSize+"em"}let c=t.bTabIdInTitle?(e?p+"."+(i.index+1):i.index+1)+" ":"";a.insertAdjacentText("beforeEnd",c+i.title),l.insertAdjacentText("beforeEnd",i.url),n.appendChild(a),n.appendChild(document.createElement("br")),n.appendChild(l),n.onclick=()=>tri.excmds.tab((e?r+".":"")+(i.index+1))});g.style["grid-gap"]="5px",g.className="tri-grid-tabs-container",a.appendChild(l),a.appendChild(g),a.appendChild(d),document.body.parentElement.appendChild(a),void 0===t.stylesheet?t.stylesheet=t.addStylesheet(t.stylerules):t.stylesheet.disabled=!1;let h=tri.hinting_content.hintables(".tri-grid-tabs-container>div")[0].elements.length;return i+h<n.length&&(d.appendChild(c),c.onclick=()=>t.hint(e,i+h)),i>0&&(o.innerText="<-",l.appendChild(o),o.onclick=()=>t.hint(e,Math.max(0,i-h))),a},t.hint=async function(e=!1,i=0){let n=await t.makeTabGrid(e,i);return tri.excmds.hint("-c",".tri-grid-tabs-container>div,.tri-tabs-more").then(function(t){return n.remove(),t})}}tri.hinttabspopup.hint(true)




// to bind commands to keys use bind <key bind> hinttaball or bind <key bind> hinttabs, eg

bind T hinttaball

// default T bind is current_url tabopen
