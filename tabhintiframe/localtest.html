<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>tab iframe test</title>
<body>
	<p>paste these commands into tridactyl command line:</p>
	<p>js let iframe = document.createElement("iframe");iframe.id = "tri-tabhint-iframe";iframe.src = "tabgrid.html";iframe.sandbox = "allow-same-origin allow-scripts";iframe.style.width = "100%";iframe.style.height = "100%"; iframe.style.position = "relative"; iframe.style.margin = 0;iframe.style.border = "none";document.body.parentElement.appendChild(iframe);let hintparent = document.createElement("div");document.body.parentElement.appendChild(hintparent);window.addEventListener("message", (event) => { hintparent.innerText = ""; let iframeRect = iframe.getBoundingClientRect(); for(let i = 0; i < event.data.length; i+=3) { let hintable = document.createElement("div");  hintable.style.position = "absolute"; hintable.style.left = (event.data[i] + iframeRect.left) +"px"; hintable.style.top = (event.data[i + 1] + iframeRect.top) + "px"; hintable.style.width = "1em"; hintable.style.height = "1em"; hintable.className = "tri-tab-hint"; hintable.setAttribute("tabid", event.data[i+2]);  hintparent.appendChild(hintable); }});</p>
	<p>js tri.browserBg.tabs.query({}).then(function(tabs) {	const iframe = document.querySelector("#tri-tabhint-iframe");	iframe.contentWindow.postMessage(["update",tabs], "*")	});</p>
	<p>js async function goToTab(tabId) {  const tab = await tri.browserBg.tabs.update(tabId, { active: true });  await tri.browserBg.windows.update(tab.windowId, { focused: true });  return tab;};tri.excmds.hint("-c", ".tri-tab-hint").then((e) => {  goToTab(Number(e.getAttribute("tabid")));});</p>
</body></html>
